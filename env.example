# ==============================================================================
# CATCHY BOT CRM - ENVIRONMENT VARIABLES EXAMPLE
# ==============================================================================
# This file contains all configuration variables needed for the application
#
# INSTRUCTIONS:
# 1. Copy this file and rename it to: .env
# 2. Fill in the actual values (replace placeholders)
# 3. NEVER commit .env to Git (contains sensitive data!)
# 4. Each environment (dev/staging/production) should have its own .env
#
# Copy command: cp .env.example .env
# ==============================================================================


# ==============================================================================
# DJANGO CORE SETTINGS
# ==============================================================================

# Debug Mode
# Controls whether Django shows detailed error pages
# True = Development mode (shows full error traces, SQL queries)
# False = Production mode (shows generic error pages, logs errors)
# ⚠️ ALWAYS set to False in production for security!
DEBUG=True

# Secret Key
# Used for cryptographic signing (sessions, passwords, CSRF tokens, etc.)
# SECURITY: Must be random, long (50+ characters), and unique per environment
#
# Generate new key with:
#   python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
#
# Example output: django-insecure-k9@3m$f8x2&nw5p#q7r!t6u8v0w1x2y3z4a5b6c7d8e9
SECRET_KEY=django-insecure-CHANGE-THIS-IN-PRODUCTION-use-random-50-chars

# Allowed Hosts
# Comma-separated list of domains/IPs that can access this application
# Security: Prevents host header attacks
#
# Development: localhost,127.0.0.1
# Production: yourdomain.com,www.yourdomain.com,api.yourdomain.com
#
# No spaces between values!
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0


# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# Database Connection String
# Format: postgresql://username:password@host:port/database_name
#
# Development (Docker):
#   postgresql://catchybot_user:catchybot_pass123@db:5432/catchybot_db
#
# Production (e.g., AWS RDS):
#   postgresql://admin:SecurePass@db.aws.region.rds.amazonaws.com:5432/production_db
#
# Note: 'db' is the Docker service name, resolves to container IP automatically
DATABASE_URL=postgresql://catchybot_user:catchybot_pass123@db:5432/catchybot_db


# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================

# Redis Connection String
# Format: redis://host:port/database_number
#
# Used by:
# - Celery (message broker for background tasks)
# - Django Channels (WebSocket layer)
# - Django Cache (optional, for caching)
#
# Development: redis://redis:6379/0
# Production: redis://your-redis-host:6379/0
#
# Database numbers (0-15): You can use different databases for different purposes
# Example: /0 for Celery, /1 for Channels, /2 for Cache
REDIS_URL=redis://redis:6379/0


# ==============================================================================
# EMAIL CONFIGURATION (Will be used in Phase 9)
# ==============================================================================

# Email Backend
# Backends:
# - django.core.mail.backends.smtp.EmailBackend (real emails)
# - django.core.mail.backends.console.EmailBackend (prints to console, for testing)
# - django.core.mail.backends.filebased.EmailBackend (saves to file, for testing)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# SMTP Server Settings (for real emails)
# Gmail example (requires App Password, not regular password):
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@gmail.com
# EMAIL_HOST_PASSWORD=your-app-password-here
# DEFAULT_FROM_EMAIL=Catchy Bot CRM <noreply@yourdomain.com>

# Other providers:
# - SendGrid: smtp.sendgrid.net, port 587
# - Mailgun: smtp.mailgun.org, port 587
# - AWS SES: email-smtp.region.amazonaws.com, port 587

# Uncomment and fill these in production:
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=
# EMAIL_HOST_PASSWORD=
# DEFAULT_FROM_EMAIL=Catchy Bot <noreply@catchybot.com>


# ==============================================================================
# WOZTELL WHATSAPP API CONFIGURATION (Will be used in Phase 4)
# ==============================================================================

# Woztell API Credentials
# Get these from your Woztell dashboard after signing up
# URL: https://dashboard.woztell.com
#
# Required for:
# - Receiving WhatsApp messages (webhook)
# - Sending WhatsApp messages (API)
# - Managing WhatsApp templates

# API Key for authentication
# Example: wzt_api_abc123def456ghi789jkl012mno345pqr678
# WOZTELL_API_KEY=

# Channel ID (WhatsApp Business Account ID)
# Example: channel_abc123def456
# WOZTELL_CHANNEL_ID=

# Webhook Secret (for verifying webhook requests)
# Example: webhook_secret_abc123def456ghi789
# WOZTELL_WEBHOOK_SECRET=

# API Base URL (usually doesn't change)
# WOZTELL_API_URL=https://api.woztell.com/v1


# ==============================================================================
# FILE STORAGE CONFIGURATION
# ==============================================================================

# Media Files (user uploads: avatars, attachments, etc.)
# In production, use cloud storage (AWS S3, Google Cloud Storage, etc.)
# For now, we'll use local storage

# Local storage paths (relative to project root)
# These will be created automatically by Django
MEDIA_URL=/media/
MEDIA_ROOT=media

# Static Files (CSS, JS, images)
STATIC_URL=/static/
STATIC_ROOT=staticfiles


# ==============================================================================
# SECURITY SETTINGS (Production Only)
# ==============================================================================

# HTTPS/SSL Settings
# Only enable these in production with valid SSL certificate
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True
# SECURE_BROWSER_XSS_FILTER=True
# SECURE_CONTENT_TYPE_NOSNIFF=True
# X_FRAME_OPTIONS=DENY

# HSTS (HTTP Strict Transport Security)
# Forces browsers to only use HTTPS
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True


# ==============================================================================
# CELERY CONFIGURATION
# ==============================================================================

# Celery Broker (where tasks are queued)
# Usually same as REDIS_URL
CELERY_BROKER_URL=redis://redis:6379/0

# Celery Result Backend (where results are stored)
# Options: redis, database, no backend
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Celery Settings
# Task timeout in seconds
CELERY_TASK_TIME_LIMIT=300
CELERY_TASK_SOFT_TIME_LIMIT=240


# ==============================================================================
# DJANGO CHANNELS CONFIGURATION
# ==============================================================================

# Channels Layer (for WebSocket)
# Uses Redis for message passing between servers
CHANNELS_LAYER_BACKEND=channels_redis.core.RedisChannelLayer
CHANNELS_LAYER_HOST=redis://redis:6379/1


# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================

# Log Level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Development: DEBUG (shows everything)
# Production: INFO or WARNING (shows less)
LOG_LEVEL=DEBUG

# Log to file?
# True = saves logs to file
# False = only console output
LOG_TO_FILE=False

# Log file path (if LOG_TO_FILE=True)
LOG_FILE_PATH=logs/django.log


# ==============================================================================
# THIRD-PARTY INTEGRATIONS (Optional)
# ==============================================================================

# Google Analytics (for tracking)
# GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X

# Sentry (for error tracking)
# SENTRY_DSN=https://xxx@sentry.io/xxx

# Stripe (for payments, if needed in future)
# STRIPE_PUBLIC_KEY=
# STRIPE_SECRET_KEY=


# ==============================================================================
# CUSTOM APPLICATION SETTINGS
# ==============================================================================

# Default pagination size
# How many items per page in lists
PAGINATION_SIZE=25

# Session timeout in seconds
# 3600 = 1 hour, 86400 = 24 hours
SESSION_COOKIE_AGE=86400

# Language and timezone
LANGUAGE_CODE=ar
TIME_ZONE=Africa/Cairo

# Enable/disable features
ENABLE_WHATSAPP=True
ENABLE_EMAIL_NOTIFICATIONS=True
ENABLE_SMS_NOTIFICATIONS=False


# ==============================================================================
# NOTES
# ==============================================================================
#
# SECURITY CHECKLIST:
# ✅ Changed SECRET_KEY to random value
# ✅ Set DEBUG=False in production
# ✅ Added only necessary domains to ALLOWED_HOSTS
# ✅ Used strong database password
# ✅ Enabled HTTPS settings in production
# ✅ Never committed .env file to Git
#
# COMMON MISTAKES:
# ❌ Spaces in ALLOWED_HOSTS (wrong: localhost, 127.0.0.1)
# ❌ Weak SECRET_KEY (don't use simple words)
# ❌ DEBUG=True in production (security risk!)
# ❌ Committing .env to Git (exposes secrets!)
#
# ==============================================================================